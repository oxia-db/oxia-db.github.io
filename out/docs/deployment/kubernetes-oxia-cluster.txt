1:"$Sreact.fragment"
3:I[87555,[],""]
4:I[31295,[],""]
6:I[59665,[],"OutletBoundary"]
9:I[74911,[],"AsyncMetadataOutlet"]
b:I[59665,[],"ViewportBoundary"]
d:I[59665,[],"MetadataBoundary"]
f:I[26614,[],""]
:HL["/_next/static/css/69af9cb1c465c404.css","style"]
0:{"P":null,"b":"X0_M9nmBS-Z7MGngeXSH7","p":"","c":["","docs","deployment","kubernetes-oxia-cluster"],"i":false,"f":[[["",{"children":["docs",{"children":[["mdxPath","deployment/kubernetes-oxia-cluster","oc"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/69af9cb1c465c404.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],"$L2"]}],{"children":["docs",["$","$1","c",{"children":[null,["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["mdxPath","deployment/kubernetes-oxia-cluster","oc"],["$","$1","c",{"children":[null,["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$L5",null,["$","$L6",null,{"children":["$L7","$L8",["$","$L9",null,{"promise":"$@a"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,["$","$1","w9NeyNSR3Ihe_xhlh2e7xv",{"children":[["$","$Lb",null,{"children":"$Lc"}],null]}],["$","$Ld",null,{"children":"$Le"}]]}],false]],"m":"$undefined","G":["$f","$undefined"],"s":false,"S":true}
10:"$Sreact.suspense"
11:I[74911,[],"AsyncMetadata"]
e:["$","div",null,{"hidden":true,"children":["$","$10",null,{"fallback":null,"children":["$","$L11",null,{"promise":"$@12"}]}]}]
8:null
13:I[35776,["2545","static/chunks/c16f53c3-0378df55f56a4938.js","278","static/chunks/278-f759f12e97fa4c64.js","2847","static/chunks/app/docs/%5B%5B...mdxPath%5D%5D/page-5c4c48bb7174cea3.js"],"ThemeConfigProvider"]
14:I[36666,["2545","static/chunks/c16f53c3-0378df55f56a4938.js","278","static/chunks/278-f759f12e97fa4c64.js","2847","static/chunks/app/docs/%5B%5B...mdxPath%5D%5D/page-5c4c48bb7174cea3.js"],"LastUpdated"]
15:I[94013,["2545","static/chunks/c16f53c3-0378df55f56a4938.js","278","static/chunks/278-f759f12e97fa4c64.js","904","static/chunks/904-ea4f3e266b412ec3.js","7177","static/chunks/app/layout-206d02a6d10581af.js"],"Search"]
16:I[51362,["2545","static/chunks/c16f53c3-0378df55f56a4938.js","278","static/chunks/278-f759f12e97fa4c64.js","904","static/chunks/904-ea4f3e266b412ec3.js","7177","static/chunks/app/layout-206d02a6d10581af.js"],"ThemeProvider"]
17:I[66221,["2545","static/chunks/c16f53c3-0378df55f56a4938.js","278","static/chunks/278-f759f12e97fa4c64.js","2847","static/chunks/app/docs/%5B%5B...mdxPath%5D%5D/page-5c4c48bb7174cea3.js"],"SkipNavLink"]
18:I[11226,["2545","static/chunks/c16f53c3-0378df55f56a4938.js","278","static/chunks/278-f759f12e97fa4c64.js","2847","static/chunks/app/docs/%5B%5B...mdxPath%5D%5D/page-5c4c48bb7174cea3.js"],"ConfigProvider"]
19:I[6874,["2545","static/chunks/c16f53c3-0378df55f56a4938.js","278","static/chunks/278-f759f12e97fa4c64.js","2847","static/chunks/app/docs/%5B%5B...mdxPath%5D%5D/page-5c4c48bb7174cea3.js"],""]
1a:I[85396,["2545","static/chunks/c16f53c3-0378df55f56a4938.js","278","static/chunks/278-f759f12e97fa4c64.js","2847","static/chunks/app/docs/%5B%5B...mdxPath%5D%5D/page-5c4c48bb7174cea3.js"],"ClientNavbar"]
1b:I[44502,["2545","static/chunks/c16f53c3-0378df55f56a4938.js","278","static/chunks/278-f759f12e97fa4c64.js","2847","static/chunks/app/docs/%5B%5B...mdxPath%5D%5D/page-5c4c48bb7174cea3.js"],"MobileNav"]
2:["$","html",null,{"lang":"en","dir":"ltr","suppressHydrationWarning":true,"children":[["$","head",null,{"children":["$undefined",["$","style",null,{"children":":root {\n  --nextra-primary-hue: 212deg;\n  --nextra-primary-saturation: 100%;\n  --nextra-primary-lightness: 45%;\n  --nextra-bg: 250,250,250;\n  --nextra-content-width: 90rem;\n}\n.dark {\n  --nextra-primary-hue: 204deg;\n  --nextra-primary-saturation: 100%;\n  --nextra-primary-lightness: 55%;\n  --nextra-bg: 17,17,17;\n}\n::selection {\n  background: hsla(var(--nextra-primary-hue),var(--nextra-primary-saturation),var(--nextra-primary-lightness),.3);\n}\nhtml {\n  background: rgb(var(--nextra-bg));\n}"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: light)","content":"rgb(250,250,250)"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: dark)","content":"rgb(17,17,17)"}],["$","link",null,{"rel":"icon","href":"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text x='50' y='.9em' font-size='90' text-anchor='middle'>âœ¦</text><style>svg{font-family:system-ui,-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,\"Noto Sans\",sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\"}@media(prefers-color-scheme:dark){svg{fill:#fff}}</style></svg>"}]]}],["$","body",null,{"children":["$","$L13",null,{"value":{"children":"$undefined","darkMode":true,"docsRepositoryBase":"https://github.com/oxia-db/oxia-doc/blob/main","editLink":"Edit this page on GitHub","feedback":{"content":"Question? Give us feedback","labels":"feedback"},"i18n":[],"lastUpdated":["$","$L14",null,{}],"navigation":{"next":true,"prev":true},"search":["$","$L15",null,{}],"sidebar":{"defaultMenuCollapseLevel":1,"defaultOpen":true,"toggleButton":true},"themeSwitch":{"dark":"Dark","light":"Light","system":"System"},"toc":{"backToTop":"Scroll to top","float":true,"title":"On This Page"}},"children":["$","$L16",null,{"attribute":"class","defaultTheme":"system","disableTransitionOnChange":true,"storageKey":"theme","children":[["$","$L17",null,{}],"$undefined",["$","$L18",null,{"pageMap":[{"data":{"index":{"display":"hidden"},"docs":{"type":"page","title":"Documentation"}}},{"name":"index","route":"/","frontMatter":{},"title":"Index"},{"name":"docs","route":"/docs","children":[{"data":{"index":{"title":"Getting Started"}}},{"name":"index","route":"/docs","frontMatter":{"title":"Index","filePath":"src/content/index.mdx","timestamp":1750302461000},"title":"Getting Started"},{"name":"architecture","route":"/docs/architecture","children":[{"name":"design-goals","route":"/docs/architecture/design-goals","frontMatter":{"title":"Design goals","filePath":"src/content/architecture/design-goals.mdx","timestamp":1750302461000},"title":"Design goals"},{"name":"logical-architecture","route":"/docs/architecture/logical-architecture","frontMatter":{"title":"Logical Architecture","filePath":"src/content/architecture/logical-architecture.mdx","timestamp":1750302461000},"title":"Logical Architecture"},{"name":"physical-architecture","route":"/docs/architecture/physical-architecture","frontMatter":{"title":"Physical Architecture","filePath":"src/content/architecture/physical-architecture.mdx","timestamp":1750302461000},"title":"Physical Architecture"}],"title":"Architecture"},{"name":"consensus","route":"/docs/consensus","children":[{"name":"replication-coordinator","route":"/docs/consensus/replication-coordinator","frontMatter":{"title":"Coordinator","filePath":"src/content/consensus/replication-coordinator.mdx","timestamp":1750302461000},"title":"Coordinator"},{"name":"replication-protocol","route":"/docs/consensus/replication-protocol","frontMatter":{"title":"Oxia replication protocol","filePath":"src/content/consensus/replication-protocol.mdx","timestamp":1750302461000},"title":"Oxia replication protocol"},{"name":"replication-storage","route":"/docs/consensus/replication-storage","frontMatter":{"title":"Storage","filePath":"src/content/consensus/replication-storage.mdx","timestamp":1750302461000},"title":"Storage"}],"title":"Consensus"},{"name":"correctness","route":"/docs/correctness","children":[{"name":"maelstrom","route":"/docs/correctness/maelstrom","frontMatter":{"title":"Maelstrom","filePath":"src/content/correctness/maelstrom.mdx","timestamp":1750302461000},"title":"Maelstrom"},{"name":"tla+","route":"/docs/correctness/tla+","frontMatter":{"title":"TLA +","filePath":"src/content/correctness/tla+.mdx","timestamp":1750302461000},"title":"TLA +"}],"title":"Correctness"},{"name":"deployment","route":"/docs/deployment","children":[{"name":"bare-metal","route":"/docs/deployment/bare-metal","frontMatter":{"title":"Deploying in the bare metal","filePath":"src/content/deployment/bare-metal.mdx","timestamp":1750302461000},"title":"Deploying in the bare metal"},{"name":"kubernetes","route":"/docs/deployment/kubernetes","frontMatter":{"title":"Deploying in Kubernetes with Oxia cluster Helm chart","filePath":"src/content/deployment/kubernetes.mdx","timestamp":1750302461000},"title":"Deploying in Kubernetes with Oxia cluster Helm chart"},{"name":"kubernetes-oxia-cluster","route":"/docs/deployment/kubernetes-oxia-cluster","frontMatter":{"title":"Kubernetes Resources","filePath":"src/content/deployment/kubernetes-oxia-cluster.mdx","timestamp":1750302461000},"title":"Kubernetes Resources"}],"title":"Deployment"},{"name":"features","route":"/docs/features","children":[{"name":"oxia-key-sorting","route":"/docs/features/oxia-key-sorting","frontMatter":{"title":"Keys Sorting","filePath":"src/content/features/oxia-key-sorting.mdx","timestamp":1750302461000},"title":"Keys Sorting"}],"title":"Features"}],"title":"Documentation"}],"navbar":["$","header",null,{"className":"nextra-navbar x:sticky x:top-0 x:z-30 x:w-full x:bg-transparent x:print:hidden x:max-md:[.nextra-banner:not([class$=hidden])~&]:top-(--nextra-banner-height)","children":[["$","div",null,{"className":"nextra-navbar-blur x:absolute x:-z-1 x:size-full nextra-border x:border-b x:backdrop-blur-md x:bg-nextra-bg/70"}],["$","nav",null,{"style":{"height":"var(--nextra-navbar-height)"},"className":"x:mx-auto x:flex x:max-w-(--nextra-content-width) x:items-center x:gap-4 x:pl-[max(env(safe-area-inset-left),1.5rem)] x:pr-[max(env(safe-area-inset-right),1.5rem)] x:justify-end","children":[["$","$L19",null,{"href":"/","className":"x:flex x:items-center x:me-auto x:transition-opacity x:focus-visible:nextra-focus x:hover:opacity-75","aria-label":"Home page","children":["$","div",null,{"children":[["$","b",null,{"children":"Oxia"}]," ",["$","span",null,{"style":{"opacity":"60%"},"children":"Metadata Store and Coordination System"}]]}]}],["$","$L1a",null,{"className":"","children":["$undefined","$undefined","$undefined"]}]]}]]}],"footer":"$undefined","children":[["$","$L1b",null,{}],["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]]}]]}]}]}]]}]
1c:I[9608,["2545","static/chunks/c16f53c3-0378df55f56a4938.js","278","static/chunks/278-f759f12e97fa4c64.js","2847","static/chunks/app/docs/%5B%5B...mdxPath%5D%5D/page-5c4c48bb7174cea3.js"],"TOCProvider"]
1d:I[44502,["2545","static/chunks/c16f53c3-0378df55f56a4938.js","278","static/chunks/278-f759f12e97fa4c64.js","2847","static/chunks/app/docs/%5B%5B...mdxPath%5D%5D/page-5c4c48bb7174cea3.js"],"Sidebar"]
1e:I[90911,["2545","static/chunks/c16f53c3-0378df55f56a4938.js","278","static/chunks/278-f759f12e97fa4c64.js","2847","static/chunks/app/docs/%5B%5B...mdxPath%5D%5D/page-5c4c48bb7174cea3.js"],"ClientWrapper"]
1f:I[19443,["2545","static/chunks/c16f53c3-0378df55f56a4938.js","278","static/chunks/278-f759f12e97fa4c64.js","2847","static/chunks/app/docs/%5B%5B...mdxPath%5D%5D/page-5c4c48bb7174cea3.js"],"HeadingAnchor"]
20:I[56325,["2545","static/chunks/c16f53c3-0378df55f56a4938.js","278","static/chunks/278-f759f12e97fa4c64.js","2847","static/chunks/app/docs/%5B%5B...mdxPath%5D%5D/page-5c4c48bb7174cea3.js"],"Mermaid"]
5:["$","div",null,{"className":"x:mx-auto x:flex x:max-w-(--nextra-content-width)","children":["$","$L1c",null,{"value":[{"value":"Prerequisites","id":"prerequisites","depth":2},{"value":"Docker Registry Secret","id":"docker-registry-secret","depth":3},{"value":"Storage Class","id":"storage-class","depth":3},{"value":"Prometheus Operator","id":"prometheus-operator","depth":3},{"value":"Coordinator","id":"coordinator","depth":2},{"value":"ServiceAccount","id":"serviceaccount","depth":3},{"value":"Role","id":"role","depth":3},{"value":"RoleBinding","id":"rolebinding","depth":3},{"value":"ConfigMap","id":"configmap","depth":3},{"value":"Config","id":"config","depth":4},{"value":"Status","id":"status","depth":4},{"value":"Deployment","id":"deployment","depth":3},{"value":"Service","id":"service","depth":3},{"value":"ServiceMonitor","id":"servicemonitor","depth":3},{"value":"Server","id":"server","depth":2},{"value":"ServiceAccount","id":"serviceaccount-1","depth":3},{"value":"StatefulSet","id":"statefulset","depth":3},{"value":"Service","id":"service-1","depth":3},{"value":"ServiceMonitor","id":"servicemonitor-1","depth":3},{"value":"Resource Relationships","id":"resource-relationships","depth":2}],"children":[["$","$L1d",null,{}],["$","$L1e",null,{"metadata":{"title":"Kubernetes Resources","filePath":"src/content/deployment/kubernetes-oxia-cluster.mdx","timestamp":1750302461000},"bottomContent":"$undefined","children":[["$","div",null,{"id":"nextra-skip-nav"}],["$","main",null,{"data-pagefind-body":true,"children":[["$","h1",null,{"id":"$undefined","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-bold x:mt-2 x:text-4xl","children":["Kubernetes Resources","$undefined"]}],"\n",["$","h2",null,{"id":"prerequisites","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["Prerequisites",["$","$L1f",null,{"id":"prerequisites"}]]}],"\n",["$","h3",null,{"id":"docker-registry-secret","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Docker Registry Secret",["$","$L1f",null,{"id":"docker-registry-secret"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":"Pods need to be able to authenticate with image registries to pull images. In this case the oxia image needs to be\nretrieved for the operator controller, cluster coordinator or server."}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":"Typically, the authentication tokens are short-lived and expire. For example AWS ECR tokens expire after 12 hours.\nTherefore, the tokens contained by the secret need to be regularly rotated."}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":"This secret is left to the user to create and manage."}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["Kubernetes also supports\n",["$","a",null,{"href":"https://kubernetes.io/docs/concepts/containers/images/#kubelet-credential-provider","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["Kubelet credential provider",["Â ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],"\nto dynamically fetch registry credentials for a container image. The method would eliminate the need to create a secret\nand provide ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"imagePullSecrets"}]," to Pods or ServiceAccounts."]}],"\n",["$","h3",null,{"id":"storage-class","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Storage Class",["$","$L1f",null,{"id":"storage-class"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":"The Oxia servers require a storage class to be configured."}],"\n",["$","h3",null,{"id":"prometheus-operator","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Prometheus Operator",["$","$L1f",null,{"id":"prometheus-operator"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":"If ServiceMonitors are enabled, then the Prometheus operator must be installed."}],"\n",["$","h2",null,{"id":"coordinator","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["Coordinator",["$","$L1f",null,{"id":"coordinator"}]]}],"\n",["$","h3",null,{"id":"serviceaccount","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["ServiceAccount",["$","$L1f",null,{"id":"serviceaccount"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["This is the ServiceAccount account that the coordinator Pod runs as. It contains the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"imagePullSecrets"}]," to allow the Pod\nto pull the Oxia image. It is also bound to a Role to allow it to perform necessary operations against the Kubernetes\nAPI."]}],"\n",["$","h3",null,{"id":"role","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Role",["$","$L1f",null,{"id":"role"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":"This Role contains all the permissions that the coordinator is allowed to perform against the Kubernetes API. Namely,\ninteracting with ConfigMaps to allow it to store cluster status metadata."}],"\n",["$","h3",null,{"id":"rolebinding","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["RoleBinding",["$","$L1f",null,{"id":"rolebinding"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":"This binds the Role to the ServiceAccount."}],"\n",["$","h3",null,{"id":"configmap","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["ConfigMap",["$","$L1f",null,{"id":"configmap"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":"The coordinator has two ConfigMaps."}],"\n",["$","h4",null,{"id":"config","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-xl","children":["Config",["$","$L1f",null,{"id":"config"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["This contains the cluster configuration: ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"replicationFactor"}],", ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"initialShardCount"}]," and the list of the public and internal\nbind addresses of all the servers in the cluster. It is mounted as a yaml file in the coordinator container."]}],"\n",["$","h4",null,{"id":"status","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-xl","children":["Status",["$","$L1f",null,{"id":"status"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":"This is created and updated by the coordinator periodically. It is used to recover state on restarts."}],"\n",["$","h3",null,{"id":"deployment","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Deployment",["$","$L1f",null,{"id":"deployment"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":"This runs the coordinator container. It has a single replica. The above ConfigMap configuration is mounted as a file in\nthe container."}],"\n",["$","h3",null,{"id":"service","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Service",["$","$L1f",null,{"id":"service"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["This exposes the coordinatorâ€™s RPC and metrics endpoints to the Kubernetes network. This is a standard ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"ClusterIP"}],"\nservice."]}],"\n",["$","h3",null,{"id":"servicemonitor","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["ServiceMonitor",["$","$L1f",null,{"id":"servicemonitor"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":"This optional resources instructs the Prometheus operator to scrape serviceâ€™s metrics."}],"\n",["$","h2",null,{"id":"server","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["Server",["$","$L1f",null,{"id":"server"}]]}],"\n",["$","h3",null,{"id":"serviceaccount-1","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["ServiceAccount",["$","$L1f",null,{"id":"serviceaccount-1"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["This is the ServiceAccount account that the server Pods runs as. It contains the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"imagePullSecrets"}]," to allow the Pod\nto pull the Oxia image."]}],"\n",["$","h3",null,{"id":"statefulset","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["StatefulSet",["$","$L1f",null,{"id":"statefulset"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["This runs the server containers. They have a disk mounted using the configurable ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"storageClassName"}],". If this is not\nspecified it will use the cluster default. The storageClass configuration is left to the user."]}],"\n",["$","h3",null,{"id":"service-1","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Service",["$","$L1f",null,{"id":"service-1"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["This exposes the servers RPC and metrics endpoints to the Kubernetes network. This is a\n",["$","a",null,{"href":"https://kubernetes.io/docs/concepts/services-networking/service/#headless-services","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["Headless Service",["Â ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}]," which allows\neach Pod to have its own Kubernetes DNS entry - ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"{service-name}-{pod-ordinal}"}],". The Oxia client can bootstrap with\n",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"{service-name}"}],", however there is no load-balancer. Kubernetes DNS will randomize which Pod IP is returned. This should\nbe taken into account when considering DNS caching."]}],"\n",["$","h3",null,{"id":"servicemonitor-1","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["ServiceMonitor",["$","$L1f",null,{"id":"servicemonitor-1"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":"This optional resource instructs the Prometheus operator to scrape serviceâ€™s metrics."}],"\n",["$","h2",null,{"id":"resource-relationships","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["Resource Relationships",["$","$L1f",null,{"id":"resource-relationships"}]]}],"\n",["$","$L20",null,{"chart":"flowchart TD\\n  secret(Docker Registry\\nSecret)\\n  c-role(Coordinator\\nRole)\\n  c-rolebinding(Coordinator\\nRoleBinding)\\n  c-sa(Coordinator\\nServiceAccount)\\n  c-cm(Coordinator\\nConfigMap)\\n  c-deploy(Coordinator\\nDeployment)\\n  c-svc(Coordinator\\nService)\\n  c-sm(Coordinator\\nServiceMonitor)\\n  s-sa(Server\\nServiceAccount)\\n  s-sts(Server\\nStatefulSet)\\n  s-svc(Server\\nService)\\n  s-sm(Server\\nServiceMonitor)\\n  \\n  secret -- imagePullSecrets --> c-sa\\n  c-sa -- subject --> c-rolebinding\\n  c-role -- roleRef --> c-rolebinding\\n  c-sa -- \"run as\" --> c-deploy\\n  c-cm -- volume --> c-deploy\\n  c-svc -- \"expose services\" --> c-deploy\\n  c-sm -- \"read metrics\" --> c-svc\\n  \\n  secret -- imagePullSecrets --> s-sa\\n  s-sa -- \"run as\" --> s-sts\\n  s-svc -- \"expose services\" --> s-sts\\n  s-sm -- \"read metrics\" --> s-svc\\n  \\n  c-deploy -- coordinate --> s-svc\\n  s-sts -- lead/follow --> s-svc\\n "}]]}]]}]]}]}]
c:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
7:null
a:{"metadata":[["$","title","0",{"children":"Kubernetes Resources - Oxia"}],["$","meta","1",{"name":"description","content":"Oxia: Shading Based Metadata Store and Coordination System"}],["$","meta","2",{"name":"application-name","content":"oxia"}],["$","meta","3",{"name":"generator","content":"Next.js"}],["$","meta","4",{"name":"msapplication-TileColor","content":"#fff"}],["$","meta","5",{"name":"mobile-web-app-capable","content":"yes"}],["$","meta","6",{"name":"apple-mobile-web-app-title","content":"Nextra"}],["$","meta","7",{"name":"apple-mobile-web-app-status-bar-style","content":"default"}],["$","link","8",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"32x32"}],["$","link","9",{"rel":"icon","href":"/icon.svg?3f6b49f433789018","type":"image/svg+xml","sizes":"any"}]],"error":null,"digest":"$undefined"}
12:{"metadata":"$a:metadata","error":null,"digest":"$undefined"}
